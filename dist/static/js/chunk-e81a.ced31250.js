(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e81a"],{JrDX:function(t,e,a){"use strict";a.r(e);var n=a("hZMg"),r={name:"systemIndex",data:function(){return{backupAddress:"",doingBackup:!1}},watch:{$route:function(t,e){"systemIndex"!=t.name&&this.$destroy()}},methods:{doBackup:function(){var t=this;if(!this.backupAddress||this.doingBackup)return!1;this.$confirm("目标的环境数据会被清理，是否确定备份？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t._doBackup()})},_doBackup:function(){var t=this,e={toAddr:this.backupAddress};this.doingBackup=!0,n.a(e).then(function(e){t.$message({type:"success",message:"备份成功!"}),t.backupAddress="",t.doingBackup=!1}).catch(function(){t.doingBackup=!1})}}},s=(a("oj0v"),a("KHd+")),c=Object(s.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card",staticStyle:{width:"500px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-alert",{attrs:{title:"备份环境：目标的环境数据会被清理",type:"error",closable:!1}})],1),t._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticStyle:{"line-height":"40px"},attrs:{span:6}},[t._v("目标的环境：")]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"ip:port"},model:{value:t.backupAddress,callback:function(e){t.backupAddress=e},expression:"backupAddress"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{loading:t.doingBackup,type:"primary"},on:{click:t.doBackup}},[t._v("备份")])],1)],1)],1)],1)},[],!1,null,"3271c283",null);c.options.__file="index.vue";e.default=c.exports},hUTE:function(t,e,a){},hZMg:function(t,e,a){"use strict";a.d(e,"a",function(){return s}),a.d(e,"b",function(){return c});var n=a("t3Un"),r="/system";function s(t){return Object(n.a)({url:r+"/backup",method:"POST",data:t})}function c(){return Object(n.a)({url:r,method:"GET"})}},oj0v:function(t,e,a){"use strict";var n=a("hUTE");a.n(n).a},t3Un:function(t,e,a){"use strict";var n=a("4d7F"),r=a.n(n),s=a("vDqi"),c=a.n(s),o=a("XJYT"),u=c.a.create({baseURL:"/v1",timeout:6e4});u.interceptors.request.use(function(t){return t},function(t){console.error(t),r.a.reject(t)}),u.interceptors.response.use(function(t){var e=t.data||{};t.headers;return 0===e.code?e.data:(Object(o.Message)({message:e.data,type:"error",duration:5e3}),r.a.reject("error"))},function(t){return Object(o.Message)({message:t.data||"网络异常",type:"error",duration:5e3}),r.a.reject(t)}),e.a=u}}]);